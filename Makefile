NAME = ircserv

SRC = main.cpp SetServer.cpp Client.cpp SetServer_utils.cpp Message.cpp Channel.cpp commands/Pass.cpp commands/Cap.cpp \
commands/User.cpp commands/Motd.cpp commands/Nick.cpp commands/Welcome.cpp commands/Quit.cpp commands/Oper.cpp \
commands/Join.cpp commands/Privmsg.cpp commands/Kick.cpp commands/Mode.cpp commands/Ping.cpp commands/Invite.cpp \
commands/Topic.cpp

DIR_SRCS = srcs/
DIR_OBJS = objs/

OBJS = $(SRC:%.cpp=${DIR_OBJS}%.o)
HEADER = Server.hpp

DEP = $(OBJS:%.o=%.d)

FLAGS = -Wall -Wextra -Werror -MMD -MP -g3 -c -std=c++17
CC = c++
INCLUDES = -I includes/

COLOUR_GREEN=\033[0;32m
COLOUR_RED=\033[0;31m
COLOUR_BLUE=\033[1;34m
COLOUR_GREY=\033[1;30m
COLOUR_END=\033[0m

all: $(NAME)
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@7^^P7#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P!~Y@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@!^^@#75@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#!7J!@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@!^^@&#Y7&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@J^!@&?@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@~.:@&#&B7P@@@@@@@@@@@@@@@@@@@@@@@@@@&!7G7P5!@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.:@&#&&&Y?&@@@@@@@@@@@@@@@@@@@@@@@5^Y##!7J?@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@?GP@@&&&&&#7P@@@@@@@@@@@@@@@@@@@@&~!#&&#7BPG@@@@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@7?7GG&&&#B#B?YB@@@@@@@@@@@@@@@@#7!G&&&&&~7~~@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@~:~J~#5P??7!^J:~B&GJJJJYYYYG&@Y.^JJ55Y?Y!B57@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@!7P@&&@@@P!5!G&B~           .. 7##~?J&?JJB!!@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@JY?&@@@@@B5#:~!^                ~!:5Y&@@?:?~@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@J.:~@@@@@B^.                       ..J@@??7~@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B@&???&@@@B!.                          !@@JJ^~@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@J&??!~?J7~:        .::         .^      .~!:^!?P@@@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P&5P^ ..       ..^:!7!.        :?:.        .P?G@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@~       :5BG#@@&GBJ:  .~.:75##GGBBY^   .&@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.  ^##5?G@@JB@@@&G#G. .!.^###@@?&@@@5Y7^#@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@. .P&~  .!B@@@@&BBBY   .  5&@@@@@@#7P@Y~#@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@75&&~    ..^?J!. :?:   .   JY.!YJ^^YBY75@@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B5!.     .:.     :.    .    :.  .P&GJ?7?&@@@@@@@"
	@echo "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@!    .::....    :.      ^    .. 7&5JJ??!&@@@@@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@@YY#@@@@@@@@@@@@@@@@&G&@@@@@@@@@@@@@@@@@@&7^^~Y&#G:   ....    ?J?P5YJ~  ..:!JJJ?5@@@@@@@@"
	@echo "@@@@@@@@@@@B~ .7#@@@@@@@@@@@@&Y??7&@@@@@@@@@@@@@@@@@&^G@&&#&&#J:....    ?&PBBG#&@! ^JBP5Y5#@@@@@@@@@"
	@echo "@@@@@@@@@@@G^   :Y&@@@@@@@@&Y77~^^G@@@@@@@@@@@@@@@@@~ 7&G5BGGP55~ .     ^&@@@@@@@J  !&5JP@@@@@@@@@@@"
	@echo "@@@@@@@@@@@#!. .:?PB&###&#YP#G7:.:G@@@@@@@@@@@@5?@P^  ..!~5!?::^:      :^YB@@@@&G7^.^Y~?Y5BBB##@@@@@"
	@echo "@@@@@@@@@@@&?7:. ..:... : :^~77~!JY@@@@@@@@@@@@&&Y~~   :PBBP?5BB!     :!7YG&@@#PJ?7!7!^5@@&&?BG#@@@@"
	@echo "@@@@@@@@@@@@~.   .  :::.. ^    .:YG@@@@@@@@@@@@@P~&7   !G#BB&@@@@Y.  .!P#&&&&&@@BJ??J??:5@@@@&##@@@@"
	@echo "@@@@@@@@@@@G .^^7Y7. .!JPPJ^^:: .7G@@@@@@@@@@@@#:&&:   7BBB&@@@@GGG##&@BBGJJ?!YG#@##&@P::@@@@@@&#@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@7 .~~7GY. .B&&Y!?7.~!Y5Y@@@@@@@@@@@Y!&@P    :G&GJPPY#7J?@@@@@@@@@&5@B5PPPP!~~:P@@@@@@@&@@"
	@echo "@@@@@@@@@@@#.....     Y~. ..:!5B@@B@@@@@@@@@@@J&@@~     .557PP!#@@@@@@@@@@@@@@@@@75P5~!!~^&@@@@@@@@@"
	@echo "@@@@@@@@@@@@G....  .?Y^   :!GGGBB#@@@@@@@@@@@@@@@@?      ::JJ57#@@@@@@@@@@@@@@@@@!P!G!!!~:7@@@@@@@@@"
	@echo "@@@@@@@@@@@@@G!^~^^^PY^~!JYG#BB&#@@@@@@@@@@@@@@@@@!   !^7:.B@@PY@BP@@@@@@@@@PG@B5G@#@!5~~^.B@@@@@@@@"
	@echo "@@@@@@@@@&&&##&GYPJ~.^Y5#GPG@@&&#.~5&@@JY@@@@@P!&#^ ::5.G!?5&&BG@G5@@@#G&@@@5P@GY@&&B:5YG7^GB7&@@@@@"
	@echo "@@@@@#GYG&&##@P.~YB#B#&@@@&BPBG@@G.  ^P#&@@@@@&#@&! . . . .JG&@@@@@&&&BP&@@@@@@@@@&B#~..:^7B@#@@@@@@"
	@echo "@@@@@@@#B##@@?  ..:!J55PBBB#?Y@@@@#.   .5@@@@@@@@@&        ?PB&&&@@5PGB@@@@@@@@@@#BYB!   .P@@@@@@@@@"
	@echo "@@@@@@@@@@@@#  :.  .!?5B@@&G&@G&&@&P   . ^&@@@@@@@@7       ?PPBB5&@55PG##@@@@@@#G?GG&! ...&@@@@@@@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@@Y   .   .~5#BBP@@&##&@##:^ .~^^@@@@@@@@&^      P@@&#YBB5&@@&&@@@@@@@&@&@@7 ..?@@@@@@@@@@"
	@echo "@@@@@@@@@@@@J        .^7YG#@&#&&@@##7G!~JP?7@@@@@@@@B . .  YBB&&YB&@@@@@@@@@BB&@@@@@@7 ..#@@@@@@@@@@"
	@echo "@@@@@@@@@@@@J!7.        .^7JY5P#@@###@GYG#&!B@@@@@@@B . .  JGB@&YG&@@PJP@@@@#B#@@Y?G@? . #@@@@@@@@@@"
	@echo "@@@@@@@@@@@@YY@#P?^:......:^~J#@@&&&@&BB#&@5?@@@@@@@& . ..~?P5PBGYGGGPY5GGGG55@YPY?7?: . &@@@@@@@@@@"
	@echo "@@@@@@@@@@@@B.&@&@@@&@&@@&&&@@@&&&&@@&###&@#5&@@@@@@? . ..B^~??JPJ&@@@@@@@@@G!@JGGP:.:.. P@@@@@@@@@@"
	@sleep 0.5
	@echo "@@@@@@@@@@@@@.~&@&@&#B##&&@@@&#&&@@@@&#&#@@&B#@@@@#.  ....^!#@@&@@@@@@@@@@@@@&@@@#@: ...  ^@@@@@@@@@"
	@echo "@@@@@@@@@@@@@? ?&@@#JYJ?&@&&##&&@@@@&&&G&@@&B&@@@@J   ...:P?B7@@@@@@@PBJY7B@@@@@@?&5! ..   B@@@@@@@@"
	@echo "@@@@@@@@@@@@@B ^?#@&YYJ?@@@&&@@&@@@@#GPP@@&B&@@@@@P   ...:BG@B@@@@@@@B&B@##@@@@@@P&Y^ ..   #@@@@@@@@"
	@echo "@@@@@@@@@@@@@@. .?B@#@@#G@@&&@&&@@&&@YGP7PJ^&@@@@@&!! ....~~YYY&@@@@@@&B#@@@@@@@@@&: ... ~J@@@@@@@@@"
	@echo "@@@@@@@@@@@@@@~  :Y@&@@@?!PGB@@@@#&@@GB5BPG5@@@@@@&5J. ..      BY5J@@@&BB&BBBB?#5PG~ ... 7P#@@@@@@@@"
	@echo "@@@@@@@@@@@@@@B  .?&&@@@J .!G&@@#&@@@@@GBJ?7@@@@@@G&5: ..   :?7#?P7@@@&BB@@@@@J&!?B~ ... J&5&@@@@@@@"
	@echo "$(COLOUR_GREEN)TYCHUNEN SERVER IS READY TO USE$(COLOUR_END)"

$(NAME): $(OBJS)
	@$(CC) $^ -o $@ -fsanitize=address

${OBJS} : ${DIR_OBJS}%.o : ${DIR_SRCS}%.cpp
	@echo "$(COLOUR_BLUE)SERVER IS BUILDING UP NOW ......$(COLOUR_GREY)"
	@mkdir -p ${@D}
	@${CC} ${FLAGS} ${INCLUDES} $< -o $@
-include ${DEP}

clean:
	@rm -rf ${DIR_OBJS}
	@if [ -f log.txt ]; then rm log.txt; fi

fclean: clean
	@rm -f $(NAME)

re: fclean all

.PHONY: all re fclean clean
